<!-- newqcm.ejs -->

<form action="/qcms/new" method="POST">
    <div>
        <label for="name">Nom</label>
        <input type="text" id="name" name="name">
    </div>
    <div>
        <label for="subject">Sujet</label>
        <input type="text" id="subject" name="subject">
    </div>
    <div>
        <label for="nbpoints">Nb points</label>
        <input type="number" id="nbpoints" name="nbpoints">
    </div>
 
    <div id="questions-container">

    </div>

    <button type="button" onclick="addQuestionField()">Ajouter une question</button>
    <input type="submit" value="Create">
</form>


<script>
    let questionCount = 0;

    function addQuestionField() {
        questionCount++;
        const container = document.getElementById('questions-container');
        const label = document.createElement('label');
        label.textContent = `Question ${questionCount}`;
        const input = document.createElement('input');
        input.type = 'text';
        input.name = 'questions[]';
        container.appendChild(label);
        container.appendChild(input);
    }
</script>
